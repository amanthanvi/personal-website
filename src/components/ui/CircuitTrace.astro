---
interface Props {
  fromColor: string;
  toColor: string;
}

const { fromColor, toColor } = Astro.props;
const gradientId = `circuit-${fromColor}-${toColor}`;
---

<div class="circuit-trace mx-auto my-0 w-full max-w-5xl px-6" aria-hidden="true">
  <svg
    class="h-20 w-full opacity-30 transition-opacity hover:opacity-50"
    viewBox="0 0 800 80"
    preserveAspectRatio="none"
    fill="none"
  >
    <defs>
      <linearGradient id={gradientId} x1="0" y1="0" x2="1" y2="0">
        <stop offset="0%" stop-color={`var(--color-accent-${fromColor})`} />
        <stop offset="100%" stop-color={`var(--color-accent-${toColor})`} />
      </linearGradient>
    </defs>
    <!-- Main circuit path -->
    <path
      d="M 400 0 L 400 12 L 180 12 L 180 40 L 620 40 L 620 68 L 400 68 L 400 80"
      stroke={`url(#${gradientId})`}
      stroke-width="1"
      stroke-dasharray="6 3"
    />
    <!-- Branch paths -->
    <path
      d="M 300 12 L 300 28"
      stroke={`var(--color-accent-${fromColor})`}
      stroke-width="0.5"
      opacity="0.5"
    />
    <path
      d="M 500 40 L 500 56"
      stroke={`var(--color-accent-${toColor})`}
      stroke-width="0.5"
      opacity="0.5"
    />
    <!-- Junction dots -->
    <circle cx="400" cy="12" r="2.5" fill={`var(--color-accent-${fromColor})`} opacity="0.7" />
    <circle cx="180" cy="12" r="1.5" fill={`var(--color-accent-${fromColor})`} opacity="0.4" />
    <circle cx="180" cy="40" r="2" fill={`var(--color-accent-${fromColor})`} opacity="0.5" />
    <circle cx="620" cy="40" r="2" fill={`var(--color-accent-${toColor})`} opacity="0.5" />
    <circle cx="620" cy="68" r="1.5" fill={`var(--color-accent-${toColor})`} opacity="0.4" />
    <circle cx="400" cy="68" r="2.5" fill={`var(--color-accent-${toColor})`} opacity="0.7" />
    <circle cx="300" cy="12" r="1.5" fill={`var(--color-accent-${fromColor})`} opacity="0.3" />
    <circle cx="500" cy="40" r="1.5" fill={`var(--color-accent-${toColor})`} opacity="0.3" />
  </svg>
</div>
